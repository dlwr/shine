---
export interface Props {
  size?: 'small' | 'medium' | 'large';
  color?: 'blue' | 'gray' | 'white';
  message?: string;
  fullScreen?: boolean;
}

const { 
  size = 'medium', 
  color = 'blue', 
  message = 'Loading...',
  fullScreen = false 
} = Astro.props;

const sizeClasses = {
  small: 'h-4 w-4',
  medium: 'h-8 w-8',
  large: 'h-12 w-12'
};

const colorClasses = {
  blue: 'border-blue-600',
  gray: 'border-gray-600',
  white: 'border-white'
};

const containerClasses = fullScreen 
  ? 'fixed inset-0 flex items-center justify-center bg-white bg-opacity-90 z-50'
  : 'flex items-center justify-center p-4';
---

<div class={containerClasses}>
  <div class="flex flex-col items-center space-y-2">
    <div 
      class={`inline-block animate-spin rounded-full border-b-2 ${sizeClasses[size]} ${colorClasses[color]}`}
      role="status"
      aria-label={message}
    ></div>
    {message && (
      <p class="text-sm text-gray-600 animate-pulse">{message}</p>
    )}
  </div>
</div>